## Gallery

Notice that some GIFs and high-res images may take some seconds to render due to their sizes.

### Views

Some views of the scene

| |
| :---: 
| ![View2](docs/images/terrain_view2.png?raw=True) |

| |
| :---: 
| ![View1](docs/images/terrain_view1.png?raw=True) |



### Noise Settings

The coherent noise used was 2D fractal Brownian noise (fBm), which adds layers of noise with increasing frequency but decreasing influence. The first layers of noise defines the overall shape of the terrain, while the subsequent layers defines small-scale details of the terrain. The number of layers is denoted by octaves, the sampling frequency is controlled by the lacunarity variable and the influence of each layer is decided by the persistance variable. The following image show the real-time update of the terrain by changing these parameters on the GUI.

| |
| :---: |
| ![Noise Settings GIF](docs/gifs/noise.gif) <br/> Noise parameters that affect the terrain height and shape |

### Terrain Tessellation

![Terrain Tessellation](docs/images/tessellation.png?raw=True) <br/> Terrain tessellation generated by tessellation shaders. The level of detail changes dynamically based on the camera distance, creating more triangles for areas closer to the viewer.


### Water Reflection

| | |
| :---: | :---: |
| ![Water Surface Deformation](docs/images/water_ripples.png?raw=True) <br/> Waves on water surface | ![Water Reflection](docs/images/water_reflection.png?raw=True) <br/> Reflections on water surface |


### Normal Mapping

Normal mapping allows to increase the appearance of surface details without increasing the geometry (i.e. number of polygons).

| |
| :---: |
| ![Normal Mapping GIF](docs/gifs/normalmap.gif) <br/> GIF showing the increase in details on the terrain surface by enabling normal mapping |


The images below shown some images without (left) and with (right) normal mapping.


| | |
| :---: | :---: |
| ![Without Normal Mapping](docs/images/nonormalmap2.jpeg?raw=True) <br/> Without Normal Mapping | ![With Normal Mapping](docs/images/normalmap2.jpeg?raw=True) <br/> With Normal Mapping |
| ![Without Normal Mapping](docs/images/nonormalmap1.jpeg?raw=True) <br/> Without Normal Mapping | ![With Normal Mapping](docs/images/normalmap1.jpeg?raw=True) <br/> With Normal Mapping |


### Height-based Texture Blending

The terrain height determines which texture to sample from. To avoid abrupt changes of texture, a blending range is defined, where two textures are blended together. This blending range is determined using a height start and height end parameter for each texture, which creates different effects as desired. The corner cases are the first and last texture, which always start at 0.0 and end at 1.0, respectively. 

| | |
| :---: | :---: |
| ![BlendExample1](docs/images/blend1.png?raw=True) <br/> Default height-based texturing | ![BlendExample2](docs/images/blend2.png?raw=True) <br/> Increasing the River-Rock texture range |


### Triplanar Texture Mapping

In the images below it's possible to see the effect of a simpler texture mapping, planar mapping (left), compared to triplanar texture mapping (right). Vertical stretches are much more noticeable on the case of planar mapping, specially when the terrain elevation parameter is increased. Those stretches are considerably softned by using triplanar texture mapping. 

| | |
| :---: | :---: |
| ![Without Triplanar Texture Mapping](docs/images/projection.jpeg?raw=True) <br/> Without Triplanar Texture Mapping | ![With Triplanar Texture Mapping](docs/images/triplanar.jpeg?raw=True) <br/> With Triplanar Texture Mapping |


### Halfspace Fog

Halfspace fog splits the space in two halfspaces, one affected and one unaffected by fog. This allows to create some interesting visual effects, such as fog with linear density on mountain valleys.

| | |
| :---: | :---: |
| ![Fog1](docs/images/fog1.png?raw=True) <br/> Fog height = 20, density constant = 0.001 | ![Fog2](docs/images/fog2.png?raw=True) <br/> Fog height = 20, density constant = 0.1 |
| ![Fog3](docs/images/fog3.png?raw=True) <br/> Fog height = 30.149, density constant = 0.001 | ![Fog4](docs/images/fog4.png?raw=True) <br/> Fog height = 30.149, density constant = 0.011 |

While the usage on this project seems like a height-based fog, the algorithm of halfspace fog is flexible and allows to use an arbitrary plane, and not only an axis-aligned plane, to define regions affected and unaffected by fog. 